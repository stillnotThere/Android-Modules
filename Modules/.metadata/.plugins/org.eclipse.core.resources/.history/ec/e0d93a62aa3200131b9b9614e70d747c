/**
 * @author Rohan K.M rohan.mahendroo@gmail.com
 * MessageMonitoring
 * com.app.project.acropolis
 * MessageMonitoring.java
 * Created - 2013-10-11 3:20:16 PM	
 * Modified - 2013-10-11 3:20:16 PM
 * TODO
 * NOTES - 
 */
package com.app.project.acropolis;

import android.content.Context;
import android.database.ContentObserver;
import android.database.Cursor;

/**
 * @author CPH-iMac
 *
 */
public class MessageMonitoring extends ContentObserver 
{

	public MessageMonitoring() {
		super(null);
	}
	
	//TODO
	public void onChange(boolean selfChange)
	{
		Context context = MainActivity.getContext();
		super.onChange(selfChange);
		Cursor smsCursor = context.getContentResolver().query(outUri,
				new String[]{"type"}, null, null,null);


		if(smsCursor.moveToFirst())
		{
			if(smsCursor.getString(smsCursor.getColumnIndex("type")).equalsIgnoreCase("1"))
			{
				//received
				++incomingCounter;
				Logger.Debug("msg received count:"+incomingCounter);
			}
			else if(smsCursor.getString(smsCursor.getColumnIndex("type")).equalsIgnoreCase("2"))
			{
				//sent
				++outgoingCounter;
				Logger.Debug("msg sent count::"+outgoingCounter);
			}
		}

	}

}
