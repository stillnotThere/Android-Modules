/**
 * @author Rohan K.M rohan.mahendroo@gmail.com
 * DatabaseOpenHelper
 * com.app.project.acropolis.database
 * DatabaseOpenHelper.java
 * Created - 2013-10-11 4:10:30 PM	
 * Modified - 2013-10-11 4:10:30 PM
 * TODO
 * NOTES - 
 */
package com.app.project.acropolis.database;

import java.io.File;

import com.app.project.acropolis.Logger;

import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;

/**
 * @author CPH-iMac
 *
 */
public class DBOpenHelper extends SQLiteOpenHelper {

	public static final String PHONENUMBER = "PHONE_NUM";
	public static final String ROAMING = "ROAMING";
	public static final String INCOMING = "INCOMING";
	public static final String OUTGOING = "OUTGOING";
	public static final String RECEIVED = "RECEIVED";
	public static final String SENT = "SENT";
	public static final String DOWNLOADED = "DOWNLOADED";
	public static final String UPLOADED = "UPLOADED";

	//BLANK VALUES
	protected static String blank_PHONENUMBER = "";
	protected final static String blank_ROAMING = "FALSE";
	protected final static String blank_INCOMING = "0";
	protected final static String blank_OUTGOING = "0";
	protected final static String blank_RECEIVED = "0";
	protected final static String blank_SENT = "0";
	protected final static String blank_DOWNLOADED = "0";
	protected final static String blank_UPLOADED = "0";

	public static final String DB_NAME = "PROJECTACROPOLIS_DB";
	public static final int DB_VERSION = 1;

	public static final String TBL = "MONITORED_VALUES";
	public static final String ROAM_TBL = "MONITORED_ROAM_VALUES";
	public static final String PLAN_TBL = "BILL_PLAN";

	public final String TBL_QUERY_MONITOR = 
			"CREATE TABLE IF NOT EXISTS " + TBL + " (" +
			"_id INTEGER PRIMARY KEY AUTOINCREMENT, " +
			"PHONE_NUM TEXT NOT NULL, " +
			"ROAMING TEXT, " +
			"INCOMING TEXT NOT NULL, " +
			"OUTGOING TEXT NOT NULL, " +
			"RECEIVED TEXT NOT NULL, " +
			"SENT TEXT, " +
			"DOWNLOADED TEXT, " +
			"UPLOADED TEXT " +
			")";
	
	public final String TBL_QUERY_ROAM_MONITOR = 
			"CREATE TABLE IF NOT EXISTS " + ROAM_TBL + " (" +
			"_id INTEGER PRIMARY KEY AUTOINCREMENT, " +
			"ROAMING_INCOMING TEXT NOT NULL, " +
			"ROAMING_OUTGOING TEXT NOT NULL, " +
			"ROMAING_RECEIVED TEXT NOT NULL, " +
			"ROAMING_SENT TEXT, " +
			"ROAMING_DOWNLOADED TEXT, " +
			"ROAMING_UPLOADED TEXT " +
			")";
	
	public final String TBL_QUERY_PLAN = 
			"CREATE TABLE IF NOT EXISTS "+ PLAN_TBL + "(" +
			"_id INTEGER PRIMARY KEY AUTOINCREMENT," +
			"BILL_DATE TEXT NOT NULL," +
			"PLAN_INCOMING TEXT NOT NULL," +
			"PLAN_OUTGOING TEXT NOT NULL," +
			"PLAN_RECEIVED TEXT NOT NULL," +
			"PLAN_SENT TEXT NOT NULL," +
			"PLAN_DOWNLOADED TEXT NOT NULL," +
			"PLAN_ROAMING_INCOMING TEXT NOT NULL," +
			"PLAN_ROAMING_OUTGOING TEXT NOT NULL," +
			"PLAN_ROAMING_RECEIVED TEXT NOT NULL," +
			"PLAN_ROAMING_SENT TEXT NOT NULL," +
			"PLAN_ROAMING_DOWNLOADED TEXT NOT NULL," +
			"PLAN_ROAMING_UPLOADED TEXT NOT NULL" +
			")";
	
	public final String DROP_MONITOR = "";
	public final String DROP_ROAM = "";
	public final String DROP_PLAN = "";
		
	public DBOpenHelper(Context context) 
	{
		super(context, DB_NAME, null, DB_VERSION);
	}

	public void createTables(SQLiteDatabase db) 
	{
		db.execSQL(this.TBL_QUERY_MONITOR);
		db.execSQL(this.TBL_QUERY_ROAM_MONITOR);
		db.execSQL(this.TBL_QUERY_PLAN);
	}

	public void dropTables(SQLiteDatabase db) 
	{
		db.execSQL("DROP TABLE " + TBL);
	}

	@Override
	public void onCreate(SQLiteDatabase db) 
	{
		createTables(db);
	}

	@Override
	public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) 
	{
		dropTables(db);
		createTables(db);
	}
}
